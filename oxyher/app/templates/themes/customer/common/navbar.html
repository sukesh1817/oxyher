<!-- Include Bootstrap CSS and FontAwesome for icons -->

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
    <div class="container">
        <!-- Logo -->
        <a href="/" class="navbar-brand">
            <img src="/static/img/ico/oxyher_logo.jpg" alt="oxyher logo" class="logo rounded" style="height: 50px;">
        </a>

        <!-- Mobile Menu Toggle -->
        <button style="button::hover{ border:0px; background-color:white;}" class="navbar-toggler bg-light border border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu"
            aria-controls="sidebarMenu">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar Links (for desktop view) -->
        <div class="collapse navbar-collapse justify-content-end">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="{{ url_for('shop.search') }}" class="nav-link {% if 'search' in request.path %}active{% endif %}">
                        <i class="fas fa-search"></i> Search
                    </a>                    
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('shop.home') }}" class="nav-link {% if request.path == url_for('shop.home') or ('cart' not in request.path and 'shop' in request.path)  %}active{% endif %}">
                        <i class="fas fa-store"></i> Shop
                    </a>
                </li>

                {% if not session['auth_key'] %}
                <li class="nav-item">
                    <a href="{{ url_for('auth.signin') }}" class="nav-link {% if request.path == url_for('auth.signin') %}active{% endif %}">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('auth.signup') }}" class="nav-link {% if request.path == url_for('auth.signup') %}active{% endif %}">
                        <i class="fas fa-user-plus"></i> Sign Up
                    </a>
                </li>
                {% else %}
                <li class="nav-item">
                    <a href="{{ url_for('shop.cart') }}" class="nav-link {% if 'cart' in request.path %}active{% endif %}">
                        <i class="fas fa-shopping-cart"></i> Cart
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('profile.home') }}" class="nav-link {% if 'profile' in request.path  %}active{% endif %}">
                        <i class="fas fa-user"></i> Profile
                    </a>
                </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>

<div class="offcanvas offcanvas-end" tabindex="-1" id="sidebarMenu" aria-labelledby="sidebarLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="sidebarLabel">Welcome to oxyher</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body bg-body-tertiary">
        <!-- <ul class="navbar-nav">
            <li class="nav-item">
                <a href="{{ url_for('shop.search') }}" class="nav-link" >
                    <i class="fas fa-search"></i> Search
                </a>
            </li>
            <li class="nav-item">
                <a href="{{ url_for('shop.home') }}" class="nav-link">
                    <i class="fas fa-store"></i> Shop
                </a>
            </li>
            {% if not session['auth_key'] %}
                <li class="nav-item">
                    <a href="{{ url_for('auth.signin') }}" class="nav-link">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('auth.signup') }}" class="nav-link">
                        <i class="fas fa-user-plus"></i> Sign Up
                    </a>
                </li>
            {% else %}
                <li class="nav-item">
                    <a href="{{ url_for('shop.cart') }}" class="nav-link">
                        <i class="fas fa-shopping-cart"></i> Cart
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('profile.home') }}" class="nav-link">
                        <i class="fas fa-user"></i> Profile
                    </a>
                </li>
            {% endif %}
        </ul> -->

        <div class="d-flex flex-column flex-shrink-0 p-3" style="width: 100%; max-width: 280px;">
            <ul class="nav flex-column mb-auto">
                <li class="nav-item text-start">
                    <a href="{{ url_for('home.index') }}" class="text-primary nav-link active d-flex align-items-center" aria-current="page">
                        <i class="bi bi-house me-2"></i> 
                        <span>Home</span>
                    </a>
                </li>

                <li class="nav-item text-start">
                    <a href="{{ url_for('shop.search') }}" class="text-primary nav-link d-flex align-items-center link-body-emphasis">
                        <i class="bi bi-search  me-2"></i>                    
                        <span>Search</span>
                    </a>
                </li>
                
                {% if not session['auth_key'] %}
                <li class="nav-item text-start">
                    <a href="{{ url_for('auth.signin') }}" class="text-primary nav-link d-flex align-items-center link-body-emphasis">
                        <i class="bi bi-box-arrow-in-right me-2"></i> 
                        <span>Signin</span>
                    </a>
                </li>
                <li class="nav-item text-start">
                    <a href="{{ url_for('auth.signup') }}" class="text-primary nav-link d-flex align-items-center link-body-emphasis">
                        <i class="bi bi-person-plus me-2"></i>
                        <span>Signup</span>
                    </a>
                </li>
                {% else %}
                <li class="nav-item text-start">
                    <a href="{{ url_for('shop.cart') }}" class="text-primary nav-link d-flex align-items-center link-body-emphasis">
                        <i class="bi bi-cart me-2"></i> 
                        <span>Cart</span>
                    </a>
                </li>
                <li class="nav-item text-start">
                    <a href="{{ url_for('profile.home') }}" class="text-primary nav-link d-flex align-items-center link-body-emphasis">
                        <i class="bi bi-person-circle me-2"></i> 
                        <span>Accounts</span>
                    </a>
                </li>
                {% endif %}
                
                <li class="nav-item text-start">
                    <a href="{{ url_for('shop.home') }}" class="text-primary nav-link d-flex align-items-center link-body-emphasis">
                        <i class="bi bi-shop-window me-2"></i> 
                        <span>Shop</span>
                    </a>
                </li>

                <li class="nav-item text-start">
                    <a href="{{ url_for('shop.home') }}" class="text-primary nav-link d-flex align-items-center link-body-emphasis">
                        <i class="bi bi-grid me-2"></i>
                        <span>Brands</span>
                    </a>
                </li>

                <li class="nav-item text-start">
                    <a href="{{ url_for('agreements.privacy_policy') }}" class="text-primary nav-link d-flex align-items-center link-body-emphasis">
                        <i class="bi bi-shield-lock me-2"></i>
                        <span>Privacy policy</span>
                    </a>
                </li>
            </ul>
        
        
           
        </div>
    </div>
</div>